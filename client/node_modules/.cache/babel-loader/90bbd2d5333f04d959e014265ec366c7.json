{"ast":null,"code":"import _ from 'lodash';\nimport { FETCH_POSTS, CREATE_POST, FETCH_POST, UPDATE_POST, DELETE_POST } from '../actions/types';\nexport default function (state = {}, action) {\n  // Attention!!! The state object here refers to state.posts, instead of the application state.\n  switch (action.type) {\n    case FETCH_POSTS:\n      return _.mapKeys(action.payload, '_id');\n\n    case CREATE_POST:\n      return { ...state,\n        [action.payload._id]: action.payload\n      };\n    // [] here is not for creating array, is for key interpolation, i.e. newState[action.payload.id] = action.payload\n\n    case FETCH_POST:\n      return { ...state,\n        [action.payload._id]: action.payload\n      };\n\n    case UPDATE_POST:\n      return { ...state,\n        [action.payload._id]: action.payload\n      };\n\n    case DELETE_POST:\n      return _.omit(state, action.payload);\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/kongyangma/Workspace/react-redux-blog/client/src/reducers/posts_reducer.js"],"names":["_","FETCH_POSTS","CREATE_POST","FETCH_POST","UPDATE_POST","DELETE_POST","state","action","type","mapKeys","payload","_id","omit"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,SACEC,WADF,EAEEC,WAFF,EAGEC,UAHF,EAIEC,WAJF,EAKEC,WALF,QAMO,kBANP;AAQA,eAAe,UAAUC,KAAK,GAAG,EAAlB,EAAsBC,MAAtB,EAA8B;AAC3C;AAEA,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKP,WAAL;AACE,aAAOD,CAAC,CAACS,OAAF,CAAUF,MAAM,CAACG,OAAjB,EAA0B,KAA1B,CAAP;;AACF,SAAKR,WAAL;AACE,aAAO,EAAE,GAAGI,KAAL;AAAY,SAACC,MAAM,CAACG,OAAP,CAAeC,GAAhB,GAAsBJ,MAAM,CAACG;AAAzC,OAAP;AAA4D;;AAC9D,SAAKP,UAAL;AACE,aAAO,EAAE,GAAGG,KAAL;AAAY,SAACC,MAAM,CAACG,OAAP,CAAeC,GAAhB,GAAsBJ,MAAM,CAACG;AAAzC,OAAP;;AACF,SAAKN,WAAL;AACE,aAAO,EAAE,GAAGE,KAAL;AAAY,SAACC,MAAM,CAACG,OAAP,CAAeC,GAAhB,GAAsBJ,MAAM,CAACG;AAAzC,OAAP;;AACF,SAAKL,WAAL;AACE,aAAOL,CAAC,CAACY,IAAF,CAAON,KAAP,EAAcC,MAAM,CAACG,OAArB,CAAP;;AACF;AACE,aAAOJ,KAAP;AAZJ;AAcD","sourcesContent":["import _ from 'lodash';\nimport {\n  FETCH_POSTS,\n  CREATE_POST,\n  FETCH_POST,\n  UPDATE_POST,\n  DELETE_POST,\n} from '../actions/types';\n\nexport default function (state = {}, action) {\n  // Attention!!! The state object here refers to state.posts, instead of the application state.\n\n  switch (action.type) {\n    case FETCH_POSTS:\n      return _.mapKeys(action.payload, '_id');\n    case CREATE_POST:\n      return { ...state, [action.payload._id]: action.payload };  // [] here is not for creating array, is for key interpolation, i.e. newState[action.payload.id] = action.payload\n    case FETCH_POST:\n      return { ...state, [action.payload._id]: action.payload };\n    case UPDATE_POST:\n      return { ...state, [action.payload._id]: action.payload };\n    case DELETE_POST:\n      return _.omit(state, action.payload);\n    default:\n      return state;\n  }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}