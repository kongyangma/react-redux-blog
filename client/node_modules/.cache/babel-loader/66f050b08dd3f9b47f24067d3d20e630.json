{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/kongyangma/Desktop/react-redux-blog/client/src/components/blog/post_new.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { reduxForm, Field } from 'redux-form';\nimport { createPost } from '../../actions';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\n\nclass PostNew extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.renderInput = field => /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: field.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        ...field.input,\n        type: field.type,\n        placeholder: field.placeholder,\n        required: field.required ? 'required' : '',\n        disabled: field.disabled ? 'disabled' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }, this);\n\n    this.renderTextEditor = field => /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: field.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        id: \"x\",\n        type: \"hidden\",\n        name: \"content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"trix-editor\", {\n        input: \"x\",\n        ...field.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }, this);\n  }\n\n  handleFormSubmit({\n    title,\n    categories,\n    content\n  }) {\n    // console.log(title);\n    // console.log(categories);\n    // console.log(content);\n    this.props.createPost({\n      title,\n      categories,\n      content\n    }, path => {\n      // callback 1: history push\n      this.props.history.push(path);\n    }, (path, state) => {\n      // callback 2: history replace\n      this.props.history.replace(path, state);\n    });\n  }\n\n  renderAlert() {\n    const {\n      state\n    } = this.props.history.location;\n    const {\n      action\n    } = this.props.history;\n\n    if (state && action === 'REPLACE') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        role: \"alert\",\n        children: [`[${state.time}] --- `, \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Oops!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 36\n        }, this), \" \", state.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n  render() {\n    const {\n      handleSubmit\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post\",\n      children: [this.renderAlert(), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mb-5\",\n        children: \"New Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(this.handleFormSubmit.bind(this)),\n        children: [/*#__PURE__*/_jsxDEV(Field, {\n          name: \"title\",\n          component: this.renderInput,\n          type: \"text\",\n          label: \"Title:\",\n          placeholder: \"Enter your title\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"categories\",\n          component: this.renderInput,\n          type: \"text\",\n          label: \"Categories:\",\n          placeholder: \"Enter your categories, use ',' to separate them\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"content\",\n          component: this.renderTextEditor,\n          label: \"Content:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          action: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Publish\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nPostNew = reduxForm({\n  form: 'post_new' // name of the form\n\n})(PostNew);\nexport default connect(null, {\n  createPost\n})(PostNew);\n/*\nreturn (\n      <Container className=\"mt-5 pt-5\">\n        {this.renderAlert()}\n        <Row className=\"justify-content-lg-center\">\n          <Form>\n            <h3>New Post</h3>\n            <hr />\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Label>Title</Form.Label>\n              <Form.Control type=\"text\" placeholder=\"Email\" />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Label>Categories</Form.Label>\n              <Form.Control type=\"text\" placeholder=\"Email\" />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Label>Content</Form.Label>\n            </Form.Group>\n\n            <Button variant=\"primary\" type=\"submit\">\n              Publish\n            </Button>\n          </Form>\n        </Row>\n      </Container>\n    );\n*/","map":{"version":3,"sources":["/Users/kongyangma/Desktop/react-redux-blog/client/src/components/blog/post_new.js"],"names":["React","Component","connect","reduxForm","Field","createPost","Form","Button","Container","Row","PostNew","renderInput","field","label","input","type","placeholder","required","disabled","renderTextEditor","handleFormSubmit","title","categories","content","props","path","history","push","state","replace","renderAlert","location","action","time","message","render","handleSubmit","bind","form"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { reduxForm, Field } from 'redux-form';\nimport { createPost } from '../../actions';\n\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\n\nclass PostNew extends Component {\n\n  handleFormSubmit({ title, categories, content }) {\n    // console.log(title);\n    // console.log(categories);\n    // console.log(content);\n    this.props.createPost({ title, categories, content }, (path) => {  // callback 1: history push\n      this.props.history.push(path);\n    }, (path, state) => {  // callback 2: history replace\n      this.props.history.replace(path, state);\n    });\n  }\n\n  renderInput = (field) => (\n    <fieldset className=\"form-group\">\n      <label>{field.label}</label>\n      <input\n        className=\"form-control\"\n        {...field.input}\n        type={field.type}\n        placeholder={field.placeholder}\n        required={field.required? 'required' : ''}\n        disabled={field.disabled? 'disabled' : ''}\n      />\n    </fieldset>\n  );\n\n  renderTextEditor = (field) => (\n    <fieldset className=\"form-group\">\n      <label>{field.label}</label>\n      <input className=\"form-control\" id=\"x\" type=\"hidden\" name=\"content\" />\n      <trix-editor input=\"x\" {...field.input} />\n    </fieldset>\n  );\n\n  renderAlert() {\n\n    const { state } = this.props.history.location;\n    const { action } = this.props.history;\n\n    if (state && action === 'REPLACE') {\n      return (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          {`[${state.time}] --- `} <strong>Oops!</strong> {state.message}\n        </div>\n      );\n    }\n  }\n\n  render() {\n\n    const { handleSubmit } = this.props;\n\n    return (\n      <div className=\"post\">\n        {this.renderAlert()}\n        <h2 className=\"mb-5\">New Post</h2>\n        <form onSubmit={handleSubmit(this.handleFormSubmit.bind(this))}>\n          <Field name=\"title\" component={this.renderInput} type=\"text\" label=\"Title:\" placeholder=\"Enter your title\" required={true} />\n          <Field name=\"categories\" component={this.renderInput} type=\"text\" label=\"Categories:\" placeholder=\"Enter your categories, use ',' to separate them\" required={true} />\n          <Field name=\"content\" component={this.renderTextEditor} label=\"Content:\" />\n          <button action=\"submit\" className=\"btn btn-primary\">Publish</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nPostNew = reduxForm({\n  form: 'post_new',  // name of the form\n})(PostNew);\n\nexport default connect(null, { createPost })(PostNew);\n\n\n/*\nreturn (\n      <Container className=\"mt-5 pt-5\">\n        {this.renderAlert()}\n        <Row className=\"justify-content-lg-center\">\n          <Form>\n            <h3>New Post</h3>\n            <hr />\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Label>Title</Form.Label>\n              <Form.Control type=\"text\" placeholder=\"Email\" />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Label>Categories</Form.Label>\n              <Form.Control type=\"text\" placeholder=\"Email\" />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Label>Content</Form.Label>\n            </Form.Group>\n\n            <Button variant=\"primary\" type=\"submit\">\n              Publish\n            </Button>\n          </Form>\n        </Row>\n      </Container>\n    );\n*/"]},"metadata":{},"sourceType":"module"}